var ft=Object.defineProperty;var ht=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>ht(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const gt=(e,t)=>e===t,ke=Symbol("solid-proxy"),oe={equals:gt};let Ge=Ze;const W=1,le=2,ze={owned:null,cleanups:null,context:null,owner:null},pe={};var S=null;let ye=null,mt=null,L=null,I=null,K=null,he=0;function Pe(e,t){const n=L,r=S,i=e.length===0,s=t===void 0?r:t,l=i?ze:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?e:()=>e(()=>q(()=>me(l)));S=l,L=null;try{return V(o,!0)}finally{L=n,S=r}}function P(e,t){t=t?Object.assign({},oe,t):oe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Qe(n,i));return[Ye.bind(n),r]}function Be(e,t,n){const r=ge(e,t,!0,W);ee(r)}function R(e,t,n){const r=ge(e,t,!1,W);ee(r)}function X(e,t,n){Ge=St;const r=ge(e,t,!1,W);r.user=!0,K?K.push(r):ee(r)}function A(e,t,n){n=n?Object.assign({},oe,n):oe;const r=ge(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ee(r),Ye.bind(r)}function vt(e){return e&&typeof e=="object"&&"then"in e}function pt(e,t,n){let r,i,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,s=t||{}):(r=e,i=t,s=n||{});let l=null,o=pe,a=!1,d="initialValue"in s,c=typeof r=="function"&&A(r);const u=new Set,[v,x]=(s.storage||P)(s.initialValue),[h,m]=P(void 0),[C,$]=P(void 0,{equals:!1}),[U,D]=P(d?"ready":"unresolved");function b(p,f,g,_){return l===p&&(l=null,_!==void 0&&(d=!0),(p===o||f===o)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(_,{value:f})),o=pe,O(f,g)),f}function O(p,f){V(()=>{f===void 0&&x(()=>p),D(f!==void 0?"errored":d?"ready":"unresolved"),m(f);for(const g of u.keys())g.decrement();u.clear()},!1)}function M(){const p=kt,f=v(),g=h();if(g!==void 0&&!l)throw g;return L&&!L.user&&p&&Be(()=>{C(),l&&(p.resolved||u.has(p)||(p.increment(),u.add(p)))}),f}function w(p=!0){if(p!==!1&&a)return;a=!1;const f=c?c():r;if(f==null||f===!1){b(l,q(v));return}const g=o!==pe?o:q(()=>i(f,{value:v(),refetching:p}));return vt(g)?(l=g,"value"in g?(g.status==="success"?b(l,g.value,void 0,f):b(l,void 0,xe(g.value),f),g):(a=!0,queueMicrotask(()=>a=!1),V(()=>{D(d?"refreshing":"pending"),$()},!1),g.then(_=>b(g,_,void 0,f),_=>b(g,void 0,xe(_),f)))):(b(l,g,void 0,f),g)}return Object.defineProperties(M,{state:{get:()=>U()},error:{get:()=>h()},loading:{get(){const p=U();return p==="pending"||p==="refreshing"}},latest:{get(){if(!d)return M();const p=h();if(p&&!l)throw p;return v()}}}),c?Be(()=>w(!1)):w(!1),[M,{refetch:w,mutate:x}]}function q(e){if(L===null)return e();const t=L;L=null;try{return e()}finally{L=t}}function Xe(e,t,n){const r=Array.isArray(e);let i;return s=>{let l;if(r){l=Array(e.length);for(let a=0;a<e.length;a++)l[a]=e[a]()}else l=e();const o=q(()=>t(l,i,s));return i=l,o}}function yt(e){X(()=>q(e))}function ne(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function Le(){return S}function bt(e,t){const n=S,r=L;S=e,L=null;try{return V(t,!0)}catch(i){Re(i)}finally{S=n,L=r}}function wt(e){const t=L,n=S;return Promise.resolve().then(()=>{L=t,S=n;let r;return V(e,!1),L=S=null,r?r.done:void 0})}function Je(e,t){const n=Symbol("context");return{id:n,Provider:Ct(n),defaultValue:e}}function Te(e){let t;return S&&S.context&&(t=S.context[e.id])!==void 0?t:e.defaultValue}function _e(e){const t=A(e),n=A(()=>$e(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let kt;function Ye(){if(this.sources&&this.state)if(this.state===W)ee(this);else{const e=I;I=null,V(()=>ce(this),!1),I=e}if(L){const e=this.observers?this.observers.length:0;L.sources?(L.sources.push(this),L.sourceSlots.push(e)):(L.sources=[this],L.sourceSlots=[e]),this.observers?(this.observers.push(L),this.observerSlots.push(L.sources.length-1)):(this.observers=[L],this.observerSlots=[L.sources.length-1])}return this.value}function Qe(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&V(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],l=ye&&ye.running;l&&ye.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?I.push(s):K.push(s),s.observers&&et(s)),l||(s.state=W)}if(I.length>1e6)throw I=[],new Error},!1)),t}function ee(e){if(!e.fn)return;me(e);const t=he;xt(e,e.value,t)}function xt(e,t,n){let r;const i=S,s=L;L=S=e;try{r=e.fn(t)}catch(l){return e.pure&&(e.state=W,e.owned&&e.owned.forEach(me),e.owned=null),e.updatedAt=n+1,Re(l)}finally{L=s,S=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Qe(e,r):e.value=r,e.updatedAt=n)}function ge(e,t,n,r=W,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:S?S.context:null,pure:n};return S===null||S!==ze&&(S.owned?S.owned.push(s):S.owned=[s]),s}function ae(e){if(e.state===0)return;if(e.state===le)return ce(e);if(e.suspense&&q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<he);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===W)ee(e);else if(e.state===le){const r=I;I=null,V(()=>ce(e,t[0]),!1),I=r}}function V(e,t){if(I)return e();let n=!1;t||(I=[]),K?n=!0:K=[],he++;try{const r=e();return $t(n),r}catch(r){n||(K=null),I=null,Re(r)}}function $t(e){if(I&&(Ze(I),I=null),e)return;const t=K;K=null,t.length&&V(()=>Ge(t),!1)}function Ze(e){for(let t=0;t<e.length;t++)ae(e[t])}function St(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:ae(r)}for(t=0;t<n;t++)ae(e[t])}function ce(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===W?r!==t&&(!r.updatedAt||r.updatedAt<he)&&ae(r):i===le&&ce(r,t)}}}function et(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=le,n.pure?I.push(n):K.push(n),n.observers&&et(n))}}function me(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),l=n.observerSlots.pop();r<i.length&&(s.sourceSlots[l]=r,i[r]=s,n.observerSlots[r]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)me(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function xe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Re(e,t=S){throw xe(e)}function $e(e){if(typeof e=="function"&&!e.length)return $e(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=$e(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Ct(e,t){return function(r){let i;return R(()=>i=q(()=>(S.context={...S.context,[e]:r.value},_e(()=>r.children))),void 0),i}}function y(e,t){return q(()=>e(t||{}))}function ie(){return!0}const At={get(e,t,n){return t===ke?n:e.get(t)},has(e,t){return t===ke?!0:e.has(t)},set:ie,deleteProperty:ie,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:ie,deleteProperty:ie}},ownKeys(e){return e.keys()}};function be(e){return(e=typeof e=="function"?e():e)?e:{}}function Et(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Pt(...e){let t=!1;for(let l=0;l<e.length;l++){const o=e[l];t=t||!!o&&ke in o,e[l]=typeof o=="function"?(t=!0,A(o)):o}if(t)return new Proxy({get(l){for(let o=e.length-1;o>=0;o--){const a=be(e[o])[l];if(a!==void 0)return a}},has(l){for(let o=e.length-1;o>=0;o--)if(l in be(e[o]))return!0;return!1},keys(){const l=[];for(let o=0;o<e.length;o++)l.push(...Object.keys(be(e[o])));return[...new Set(l)]}},At);const n={},r=Object.create(null);for(let l=e.length-1;l>=0;l--){const o=e[l];if(!o)continue;const a=Object.getOwnPropertyNames(o);for(let d=a.length-1;d>=0;d--){const c=a[d];if(c==="__proto__"||c==="constructor")continue;const u=Object.getOwnPropertyDescriptor(o,c);if(!r[c])r[c]=u.get?{enumerable:!0,configurable:!0,get:Et.bind(n[c]=[u.get.bind(o)])}:u.value!==void 0?u:void 0;else{const v=n[c];v&&(u.get?v.push(u.get.bind(o)):u.value!==void 0&&v.push(()=>u.value))}}}const i={},s=Object.keys(r);for(let l=s.length-1;l>=0;l--){const o=s[l],a=r[o];a&&a.get?Object.defineProperty(i,o,a):i[o]=a?a.value:void 0}return i}const Lt=e=>`Stale read from <${e}>.`;function tt(e){const t=e.keyed,n=A(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return A(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?q(()=>i(t?r:()=>{if(!q(n))throw Lt("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Tt(e,t,n){let r=n.length,i=t.length,s=r,l=0,o=0,a=t[i-1].nextSibling,d=null;for(;l<i||o<s;){if(t[l]===n[o]){l++,o++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===l){const c=s<r?o?n[o-1].nextSibling:n[s-o]:a;for(;o<s;)e.insertBefore(n[o++],c)}else if(s===o)for(;l<i;)(!d||!d.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[o]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[o++],t[l++].nextSibling),e.insertBefore(n[--s],c),t[i]=n[s]}else{if(!d){d=new Map;let u=o;for(;u<s;)d.set(n[u],u++)}const c=d.get(t[l]);if(c!=null)if(o<c&&c<s){let u=l,v=1,x;for(;++u<i&&u<s&&!((x=d.get(t[u]))==null||x!==c+v);)v++;if(v>c-o){const h=t[l];for(;o<c;)e.insertBefore(n[o++],h)}else e.replaceChild(n[o++],t[l++])}else l++;else t[l++].remove()}}}const Ie="_$DX_DELEGATE";function _t(e,t,n,r={}){let i;return Pe(s=>{i=s,t===document?e():E(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function T(e,t,n){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},s=()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function H(e,t=window.document){const n=t[Ie]||(t[Ie]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Bt))}}function j(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Rt(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ot(e,t,n,r){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function Ut(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,l;for(s=0,l=i.length;s<l;s++){const o=i[s];!o||o==="undefined"||t[o]||(Fe(e,o,!1),delete n[o])}for(s=0,l=r.length;s<l;s++){const o=r[s],a=!!t[o];!o||o==="undefined"||n[o]===a||!a||(Fe(e,o,!0),n[o]=a)}return n}function Dt(e,t,n){if(!t)return n?j(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function Oe(e,t,n){return q(()=>e(t,n))}function E(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ue(e,t,r,n);R(i=>ue(e,t(),i,n),r)}function Fe(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function Bt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ue(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=r!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(l){let o=n[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=Q(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=Q(e,n,r);else{if(s==="function")return R(()=>{let o=t();for(;typeof o=="function";)o=o();n=ue(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],a=n&&Array.isArray(n);if(Se(o,t,n,i))return R(()=>n=ue(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=Q(e,n,r),l)return n}else a?n.length===0?je(e,o,r):Tt(e,n,o):(n&&Q(e),je(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=Q(e,n,r,t);Q(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Se(e,t,n,r){let i=!1;for(let s=0,l=t.length;s<l;s++){let o=t[s],a=n&&n[e.length],d;if(!(o==null||o===!0||o===!1))if((d=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=Se(e,o,a)||i;else if(d==="function")if(r){for(;typeof o=="function";)o=o();i=Se(e,Array.isArray(o)?o:[o],Array.isArray(a)?a:[a])||i}else e.push(o),i=!0;else{const c=String(o);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return i}function je(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Q(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const o=t[l];if(i!==o){const a=o.parentNode===e;!s&&!l?a?e.replaceChild(i,o):e.insertBefore(i,n):a&&o.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const It=!1;var Ft=T("<div class=switch-container>"),jt=T("<label>"),Mt=T('<label class=switch tabindex=0><input type=checkbox tabindex=-1><span class="slider rounded">');function Ce(e){let t=()=>e.disabled??!1;return(()=>{var n=Ft();return E(n,(()=>{var r=A(()=>!!e.children);return()=>r()&&(()=>{var i=jt();return E(i,y(Me,{get value(){return e.value},get onChange(){return e.onChange},get disabled(){return t()}}),null),E(i,()=>e.children,null),i})()})(),null),E(n,(()=>{var r=A(()=>!e.children);return()=>r()&&y(Me,{get value(){return e.value},get onChange(){return e.onChange},get disabled(){return t()}})})(),null),R(r=>{var i=!!e.disabled,s=!!e.small,l=!!e.reverse;return i!==r.e&&n.classList.toggle("disabled",r.e=i),s!==r.t&&n.classList.toggle("small",r.t=s),l!==r.a&&n.classList.toggle("reverse",r.a=l),r},{e:void 0,t:void 0,a:void 0}),n})()}function Me(e){let t;return(()=>{var n=Mt(),r=n.firstChild;n.$$keydown=s=>{(s.key=="Enter"||s.key==" ")&&(t==null||t.click())},r.$$input=s=>e.onChange(s.currentTarget.checked);var i=t;return typeof i=="function"?Oe(i,r):t=r,R(()=>r.disabled=e.disabled),R(()=>r.checked=e.value),n})()}H(["keydown","input"]);const Z=Pe(()=>({premium:P(!0)}));function Nt(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const l={to:i,options:s,defaultPrevented:!1,preventDefault:()=>l.defaultPrevented=!0};for(const o of e)o.listener({...l,from:o.location,retry:a=>{a&&(n=!0),o.navigate(i,{...s,resolve:!1})}});return!l.defaultPrevented}return{subscribe:t,confirm:r}}const qt=/^(?:[a-z0-9]+:)?\/\//i,Kt=/^\/+|(\/)\/+$/g,nt="http://sr";function te(e,t=!1){const n=e.replace(Kt,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function se(e,t,n){if(qt.test(t))return;const r=te(e),i=n&&te(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+te(t,!s)}function Vt(e,t){if(e==null)throw new Error(t);return e}function Wt(e,t){return te(e).replace(/\/*(\*.*)?$/g,"")+te(t)}function rt(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function Ht(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),l=s.length;return o=>{const a=o.split("/").filter(Boolean),d=a.length-l;if(d<0||d>0&&i===void 0&&!t)return null;const c={path:l?"":"/",params:{}},u=v=>n===void 0?void 0:n[v];for(let v=0;v<l;v++){const x=s[v],h=a[v],m=x[0]===":",C=m?x.slice(1):x;if(m&&we(h,u(C)))c.params[C]=h;else if(m||!we(h,x))return null;c.path+=`/${h}`}if(i){const v=d?a.slice(-d).join("/"):"";if(we(v,u(i)))c.params[i]=v;else return null}return c}}function we(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Gt(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function it(e){const t=new Map,n=Le();return new Proxy({},{get(r,i){return t.has(i)||bt(n,()=>t.set(i,A(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function st(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return st(r).reduce((s,l)=>[...s,...i.map(o=>o+l)],[])}const zt=100,ot=Je(),ve=Je(),Ue=()=>Vt(Te(ot),"Make sure your app is wrapped in a <Router />"),Xt=()=>Te(ve)||Ue().base,lt=()=>Ue().navigatorFactory(),Jt=()=>Ue().location,Yt=()=>Xt().params;function Qt(e,t=""){const{component:n,load:r,children:i,metadata:s}=e,l=!i||Array.isArray(i)&&!i.length,o={key:e,component:n,load:r,metadata:s};return at(e.path).reduce((a,d)=>{for(const c of st(d)){const u=Wt(t,c);let v=l?u:u.split("/*",1)[0];v=v.split("/").map(x=>x.startsWith(":")||x.startsWith("*")?x:encodeURIComponent(x)).join("/"),a.push({...o,originalPath:c,pattern:v,matcher:Ht(v,!l,e.matchFilters)})}return a},[])}function Zt(e,t=0){return{routes:e,score:Gt(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],l=s.matcher(n);if(!l)return null;r.unshift({...l,route:s})}return r}}}function at(e){return Array.isArray(e)?e:[e]}function ct(e,t="",n=[],r=[]){const i=at(e);for(let s=0,l=i.length;s<l;s++){const o=i[s];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const a=Qt(o,t);for(const d of a){n.push(d);const c=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!c)ct(o.children,d.pattern,n,r);else{const u=Zt([...n],r.length);r.push(u)}n.pop()}}}return n.length?r:r.sort((s,l)=>l.score-s.score)}function ut(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function en(e,t){const n=new URL(nt),r=A(a=>{const d=e();try{return new URL(d,n)}catch{return console.error(`Invalid path ${d}`),a}},n,{equals:(a,d)=>a.href===d.href}),i=A(()=>r().pathname),s=A(()=>r().search,!0),l=A(()=>r().hash),o=()=>"";return{get pathname(){return i()},get search(){return s()},get hash(){return l()},get state(){return t()},get key(){return o()},query:it(Xe(s,()=>rt(r())))}}let z;function tn(e,t,n={}){const{signal:[r,i],utils:s={}}=e,l=s.parsePath||(f=>f),o=s.renderPath||(f=>f),a=s.beforeLeave||Nt(),d=se("",n.base||"");if(d===void 0)throw new Error(`${d} is not a valid base path`);d&&!r().value&&i({value:d,replace:!0,scroll:!1});const[c,u]=P(!1),v=async f=>{u(!0);try{await wt(f)}finally{u(!1)}},[x,h]=P(r().value),[m,C]=P(r().state),$=en(x,m),U=[],D=P([]),b={pattern:d,params:{},path:()=>d,outlet:()=>null,resolvePath(f){return se(d,f)}};return R(()=>{const{value:f,state:g}=r();q(()=>{f!==x()&&v(()=>{z="native",h(f),C(g),D[1]([])}).then(()=>{z=void 0})})}),{base:b,location:$,isRouting:c,renderPath:o,parsePath:l,navigatorFactory:M,beforeLeave:a,preloadRoute:p,submissions:D};function O(f,g,_){q(()=>{if(typeof g=="number"){g&&(s.go?a.confirm(g,_)&&s.go(g):console.warn("Router integration does not support relative routing"));return}const{replace:J,resolve:G,scroll:k,state:B}={replace:!1,resolve:!0,scroll:!0,..._},N=G?f.resolvePath(g):se("",g);if(N===void 0)throw new Error(`Path '${g}' is not a routable path`);if(U.length>=zt)throw new Error("Too many redirects");const F=x();if((N!==F||B!==m())&&!It){if(a.confirm(N,_)){const re=U.push({value:F,replace:J,scroll:k,state:m()});v(()=>{z="navigate",h(N),C(B),D[1]([])}).then(()=>{U.length===re&&(z=void 0,w({value:N,state:B}))})}}})}function M(f){return f=f||Te(ve)||b,(g,_)=>O(f,g,_)}function w(f){const g=U[0];g&&((f.value!==g.value||f.state!==g.state)&&i({...f,replace:g.replace,scroll:g.scroll}),U.length=0)}function p(f,g){const _=ut(t(),f.pathname),J=z;z="preload";for(let G in _){const{route:k,params:B}=_[G];k.component&&k.component.preload&&k.component.preload(),g&&k.load&&k.load({params:B,location:{pathname:f.pathname,search:f.search,hash:f.hash,query:rt(f),state:null,key:""},intent:"preload"})}z=J}}function nn(e,t,n,r,i){const{base:s,location:l}=e,{pattern:o,component:a,load:d}=r().route,c=A(()=>r().path);a&&a.preload&&a.preload();const u=d?d({params:i,location:l,intent:z||"initial"}):void 0;return{parent:t,pattern:o,path:c,params:i,outlet:()=>a?y(a,{params:i,location:l,data:u,get children(){return n()}}):n(),resolvePath(x){return se(s.path(),x,c())}}}const rn=e=>t=>{const{base:n}=t,r=_e(()=>t.children),i=A(()=>ct(t.root?{component:t.root,children:r()}:r(),t.base||"")),s=tn(e,i,{base:n});return e.create&&e.create(s),y(ot.Provider,{value:s,get children(){return y(sn,{routerState:s,get branches(){return i()}})}})};function sn(e){const t=A(()=>ut(e.branches,e.routerState.location.pathname)),n=it(()=>{const l=t(),o={};for(let a=0;a<l.length;a++)Object.assign(o,l[a].params);return o}),r=[];let i;const s=A(Xe(t,(l,o,a)=>{let d=o&&l.length===o.length;const c=[];for(let u=0,v=l.length;u<v;u++){const x=o&&o[u],h=l[u];a&&x&&h.route.key===x.route.key?c[u]=a[u]:(d=!1,r[u]&&r[u](),Pe(m=>{r[u]=m,c[u]=nn(e.routerState,c[u-1]||e.routerState.base,on(()=>s()[u+1]),()=>t()[u],n)}))}return r.splice(l.length).forEach(u=>u()),a&&d?a:(i=c[0],c)}));return y(tt,{get when(){return s()&&i},keyed:!0,children:l=>y(ve.Provider,{value:l,get children(){return l.outlet()}})})}const on=e=>()=>y(tt,{get when(){return e()},keyed:!0,children:t=>y(ve.Provider,{value:t,get children(){return t.outlet()}})}),Ne=e=>{const t=_e(()=>e.children);return Pt(e,{get children(){return t()}})};function ln([e,t],n,r){return[e,r?i=>t(r(i)):t]}function an(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function cn(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=ln(P(n(e.get()),{equals:(i,s)=>i.value===s.value}),void 0,i=>(!t&&e.set(i),i));return e.init&&ne(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),rn({signal:r,create:e.create,utils:e.utils})}function un(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function dn(e,t){const n=an(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const fn=new Map;function hn(e=!0,t=!1,n="/_server"){return r=>{const i=r.base.path(),s=r.navigatorFactory(r.base);let l={};function o(h){return h.namespaceURI==="http://www.w3.org/2000/svg"}function a(h){if(h.defaultPrevented||h.button!==0||h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)return;const m=h.composedPath().find(O=>O instanceof Node&&O.nodeName.toUpperCase()==="A");if(!m||t&&!m.hasAttribute("link"))return;const C=o(m),$=C?m.href.baseVal:m.href;if((C?m.target.baseVal:m.target)||!$&&!m.hasAttribute("state"))return;const D=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||D&&D.includes("external"))return;const b=C?new URL($,document.baseURI):new URL($);if(!(b.origin!==window.location.origin||i&&b.pathname&&!b.pathname.toLowerCase().startsWith(i.toLowerCase())))return[m,b]}function d(h){const m=a(h);if(!m)return;const[C,$]=m,U=r.parsePath($.pathname+$.search+$.hash),D=C.getAttribute("state");h.preventDefault(),s(U,{resolve:!1,replace:C.hasAttribute("replace"),scroll:!C.hasAttribute("noscroll"),state:D&&JSON.parse(D)})}function c(h){const m=a(h);if(!m)return;const[C,$]=m;l[$.pathname]||r.preloadRoute($,C.getAttribute("preload")!=="false")}function u(h){const m=a(h);if(!m)return;const[C,$]=m;l[$.pathname]||(l[$.pathname]=setTimeout(()=>{r.preloadRoute($,C.getAttribute("preload")!=="false"),delete l[$.pathname]},200))}function v(h){const m=a(h);if(!m)return;const[,C]=m;l[C.pathname]&&(clearTimeout(l[C.pathname]),delete l[C.pathname])}function x(h){let m=h.submitter&&h.submitter.hasAttribute("formaction")?h.submitter.getAttribute("formaction"):h.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const $=new URL(m,nt);if(m=r.parsePath($.pathname+$.search),!m.startsWith(n))return}if(h.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const C=fn.get(m);if(C){h.preventDefault();const $=new FormData(h.target);h.submitter&&h.submitter.name&&$.append(h.submitter.name,h.submitter.value),C.call(r,$)}}H(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mouseover",u),document.addEventListener("mouseout",v),document.addEventListener("focusin",c),document.addEventListener("touchstart",c)),document.addEventListener("submit",x),ne(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mouseover",u),document.removeEventListener("mouseout",v),document.removeEventListener("focusin",c),document.removeEventListener("touchstart",c)),document.removeEventListener("submit",x)})}}function gn(e){return cn({get:()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),set({value:t,replace:n,scroll:r,state:i}){n?window.history.replaceState(i,"",t):window.history.pushState(i,"",t),dn(window.location.hash.slice(1),r)},init:t=>un(window,"popstate",()=>t()),create:hn(e.preload,e.explicitLinks,e.actionBase),utils:{go:t=>window.history.go(t)}})(e)}var mn=T("<nav class=rounded><div id=logo>Voice");function vn(){const e=lt();return(()=>{var t=mn(),n=t.firstChild;return n.$$click=()=>e("/"),E(t,y(Ce,{reverse:!0,get value(){return Z.premium[0]()},get onChange(){return Z.premium[1]},children:"Premium mode"}),null),t})()}H(["click"]);var pn=T('<div class="main-content rounded">');function yn(e){const t=Jt();return[y(vn,{}),(()=>{var n=pn();return E(n,()=>e.children),R(()=>n.classList.toggle("no-bottom-padding",t.pathname==="/")),n})()]}var bn=(e,t)=>{let n;const r=()=>clearTimeout(n);return Le()&&ne(r),Object.assign((...s)=>{n!==void 0&&r(),n=setTimeout(()=>e(...s),t)},{clear:r})};function wn(e,t,n){let r;(a=>{a[a.Ready=0]="Ready",a[a.Leading=1]="Leading",a[a.Trailing=2]="Trailing"})(r||(r={}));let i=0;const s=e(a=>{i===2&&t(...a),i=0},n),l=(...a)=>{i!==2&&(i===0&&t(...a),i+=1),s(a)},o=()=>{i=0,s.clear()};return Le()&&ne(o),Object.assign(l,{clear:o})}var kn=T("<div class=lds-ring><div></div><div></div><div></div><div>");function xn(e,t,n){const[r,i]=P(void 0),[s,l]=P(!1),o=wn(bn,a=>{l(!0),t(a).then(i).finally(()=>l(!1))},n);return X(()=>{o(e())}),[r,{loading:s}]}function $n(){return kn()}var Sn=T("<button class=custom-button>");function de(e){let t=()=>e.variant??"normal";return(()=>{var n=Sn();return n.$$click=()=>{e.onClick&&e.onClick()},E(n,()=>e.children),R(r=>{var i=e.lineHeight??1,s={[t()]:!0,disabled:e.disabled,small:e.small},l=e.disabled;return i!==r.e&&((r.e=i)!=null?n.style.setProperty("line-height",i):n.style.removeProperty("line-height")),r.t=Ut(n,s,r.t),l!==r.a&&(n.disabled=r.a=l),r},{e:void 0,t:void 0,a:void 0}),n})()}H(["click"]);var Cn=T('<div class="file-selector rounded"><input type=file>');function An(e){const t=r=>{e.signal[1](r.target.files?r.target.files[0]:null)};let n;return X(()=>{e.signal[0]()===null&&n&&(n.value="")}),(()=>{var r=Cn(),i=r.firstChild;i.addEventListener("change",t);var s=n;return typeof s=="function"?Oe(s,i):n=i,R(l=>{var o=!!e.disabled,a=!!e.stretchMobile,d=e.disabled,c=e.accept;return o!==l.e&&r.classList.toggle("disabled",l.e=o),a!==l.t&&r.classList.toggle("stretch-when-mobile",l.t=a),d!==l.a&&(i.disabled=l.a=d),c!==l.o&&j(i,"accept",l.o=c),l},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()}var En=T("<input class=input-field>");function Pn(e){return(()=>{var t=En();return t.$$input=n=>e.signal[1](n.target.value),R(n=>{var r=e.disabled,i=e.placeholder,s=e.type;return r!==n.e&&(t.disabled=n.e=r),i!==n.t&&j(t,"placeholder",n.t=i),s!==n.a&&j(t,"type",n.a=s),n},{e:void 0,t:void 0,a:void 0}),R(()=>t.value=e.signal[0]()),t})()}H(["input"]);var Ln=T("<div>");function Tn(e){return(()=>{var t=Ln();return R(n=>{var r="progress-bar rounded"+(e.class?" "+e.class:""),i={...e.style??{},"--progress":Math.max(0,Math.min(1,e.value))};return r!==n.e&&Rt(t,n.e=r),n.t=Dt(t,i,n.t),n},{e:void 0,t:void 0}),t})()}var _n=T("<label class=range-slider><span></span><input class=rounded type=range>");function Ae(e){return(()=>{var t=_n(),n=t.firstChild,r=n.nextSibling;return E(n,()=>e.children),Ot(r,"keydown",e.onKeyDown?i=>e.onKeyDown(i):void 0),r.$$input=i=>e.onInput(i),R(i=>{var s=!!e.disabled,l=!!e.lighter,o=!!e.fillSpace,a=!!e.hideKnobOnDisabled,d=e.disabled,c=e.min,u=e.max,v=e.step;return s!==i.e&&t.classList.toggle("disabled",i.e=s),l!==i.t&&t.classList.toggle("lighter",i.t=l),o!==i.a&&t.classList.toggle("fillSpace",i.a=o),a!==i.o&&t.classList.toggle("hideKnob",i.o=a),d!==i.i&&(r.disabled=i.i=d),c!==i.n&&j(r,"min",i.n=c),u!==i.s&&j(r,"max",i.s=u),v!==i.h&&j(r,"step",i.h=v),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),R(()=>r.value=e.value),t})()}H(["input","keydown"]);const Rn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-help-circle'%3e%3ccircle%20cx='12'%20cy='12'%20r='10'%3e%3c/circle%3e%3cpath%20d='M9.09%209a3%203%200%200%201%205.83%201c0%202-3%203-3%203'%3e%3c/path%3e%3cline%20x1='12'%20y1='17'%20x2='12.01'%20y2='17'%3e%3c/line%3e%3c/svg%3e";var On=T('<div class=info-tooltip-container><span class=info-tooltip-icon><img></span><div class="info-tooltip-popup rounded">');function fe(e){return(()=>{var t=On(),n=t.firstChild,r=n.firstChild,i=n.nextSibling;return j(r,"src",Rn),E(i,()=>e.text),t})()}const Un="https://functions.yandexcloud.net/d4egr7s2q2m3v4g3v8ee/",Dn="https://voice-upload-bucker-69.storage.yandexcloud.net/",De="https://bba44pv1r6rdqsguq4r5.containers.yandexcloud.net/",Bn="https://bbaj25vmu8ilqvlc6nat.containers.yandexcloud.net/",In="https://bbajrpitqs7cp4hvcgal.containers.yandexcloud.net/",Fn=()=>Z.premium[0]();function Ee(e){try{return new URL(e)}catch{return null}}async function jn(e){const t=async()=>await Hn(De,"check-upload-url?premium="+Fn(),e,"text/plain");if(Ee(e)===null){const s=Ee("http://"+e);return{data:["bad-url",{validWithScheme:(s==null?void 0:s.hostname.split(".").every(o=>o.length>0))??!1}],error:null}}const[r,i]=await t().then(s=>s.text().then(l=>[s,l]).catch(()=>[s,null])).then(([s,l])=>{let o=null,a=null;switch(s.status){case 200:o=["ok",+l];break;case 400:o=["bad-url",{validWithScheme:!1}];break;case 504:o=["unreachable",null];break;case 424:o=["request-error",null];break;case 415:o=["not-video",null];break;case 422:o=["bad-response",null];break;case 413:o=["too-big",+l];break;default:a={type:"server",statusCode:s.status};break}return[o,a]}).catch(s=>[null,{type:"network",message:s.toString()}]);return i?{data:null,error:i}:{data:r,error:null}}async function Mn(e,t){return await(await dt(De,"constants?premium="+e,!1,void 0,t)).json()}async function Nn(e,t,n,r){if(e instanceof File)return qn(e,t,n,r);const i=await fetch(De,{method:"POST",body:e.toString()});if(t(.5),!i.ok){console.log("error response when uploading by url",i.status,await i.text()),r();return}n(i.status,await i.text())}async function qn(e,t,n,r){let i;try{i=await fetch(Un).then(a=>a.text())}catch(a){console.error("exception while getting presigned url",a),r();return}const l=new URL(i).pathname.split("/")[1],o=new XMLHttpRequest;o.open("PUT",i,!0),o.upload.onprogress=a=>{let d=a.lengthComputable?Math.round(a.loaded*100/a.total)/100:1;t(d)},o.onload=()=>{n(o.status,l)},o.onerror=r,o.send(e)}async function Kn(e){return await(await dt(In,"analyze/"+e)).json()}function Vn(e){return Bn+e}function Wn(e){return Dn+e+"/input"}function dt(e,t,n,r,i){return fetch(e+t,{method:"GET",headers:{...r},credentials:void 0,signal:i})}function Hn(e,t,n,r,i,s){return fetch(e+t,{method:"PUT",headers:{"Content-Type":r,...s},credentials:void 0,body:n})}var Gn=T("<div id=upload-container><div><h5>Select a video from your device</h5><h5>Or paste a url</h5><h5>MP4, WebM are supported<br>Max file size: <span id=max-file-size></span></h5></div><div id=submit-options><h5>Options"),zn=T("<span id=video-from-url-error>"),Xn=T("<div class=side-by-side>"),Jn=T("<span class=smaller-letter-spacing>Silence cutoff"),qe=T("<div class=info-cirlce-flex>"),Yn=T("<span class=smaller-letter-spacing>Min skip duration"),Qn=T("<fieldset class=rounded><legend>"),Zn=T("<div id=progress-bar-obscure>");function er(e){if(e.error){if(e.error.type==="server")return"Server error!";if(e.error.type==="network")return"Request error or timeout!"}else{const[t,n]=e.data;switch(t){case"ok":return"";case"bad-url":return n.validWithScheme?"Try adding https:// or http:// to the url!":"Url is not valid!";case"unreachable":return"Url is unreachable!";case"request-error":return"Request did not succeed!";case"not-video":return"Url is not a valid video!";case"bad-response":return"Endpoint doesn't share content-length!";case"too-big":return"Video is too big!"}}return"unreachable"}function tr(){const e=lt(),[t,n]=P(null),[r,i]=P(""),[s,l]=P({denoise:!1,renderToFile:!1,silenceCutoff:-40,minSkipDuration:200}),[o,a]=P(null);let d=new AbortController;const c=()=>Mn(Z.premium[0](),d.signal).then(a).catch(w=>{w.name});X(()=>{c(),setTimeout(()=>{o()||c()},5e3)});const[u,{loading:v}]=xn(r,async w=>w!==""?await jn(w):void 0,400);X(()=>{console.log("canTryUpload",U())});const[x,h]=P(null),m=()=>o()!==null&&x()!==null?x()>o().maxFileSize:!1;X(()=>{var p,f;if(!o())return;const w=(p=u())==null?void 0:p.data;w&&(w[0]==="ok"||w[0]==="too-big")?h(w[1]):h(((f=t())==null?void 0:f.size)??null)});const C=()=>{n(null),h(null)},$=()=>{var w,p,f;return!!(t()&&!m()||(w=u())!=null&&w.data&&((f=(p=u())==null?void 0:p.data)==null?void 0:f[0])==="ok")},U=()=>$()&&!M(),[D,b]=P(0),O=()=>{var p,f;b(.01);let w=null;t()?w=t():((f=(p=u())==null?void 0:p.data)==null?void 0:f[0])==="ok"&&(w=Ee(r())),console.log("tryUpload data",w),w!==null&&Nn(w,g=>{b(Math.max(g,.01))},(g,_)=>{g===200?(console.log("Upload successful"),e("/task/"+_)):console.log("Upload failed"),b(0)},()=>{console.log("Upload failed"),b(0)})},M=()=>D()!==0;return[(()=>{var w=Gn(),p=w.firstChild,f=p.firstChild,g=f.nextSibling,_=g.nextSibling,J=_.firstChild,G=J.nextSibling,k=G.nextSibling,B=k.nextSibling,N=p.nextSibling;return N.firstChild,p.$$keydown=F=>{F.key==="Enter"&&U()&&O()},E(p,y(Ke,{get children(){return[y(An,{accept:".mp4, video/webm",get disabled(){var F,re;return M()||((re=(F=u())==null?void 0:F.data)==null?void 0:re[0])==="ok"},signal:[t,n]}),A(()=>A(()=>!!t())()&&y(de,{get disabled(){return M()},onClick:C,children:"Clear"}))]}}),g),E(p,y(Ke,{get children(){return[y(Pn,{get disabled(){return!!t()},type:"text",placeholder:"https://",signal:[r,i]}),A(()=>A(()=>!!v())()&&y($n,{})),A(()=>A(()=>!!(u()&&!v()))()&&(()=>{var F=zn();return E(F,()=>er(u())),F})())]}}),_),E(B,(()=>{var F=A(()=>o()===null);return()=>F()?"...":(o().maxFileSize/1024/1024).toFixed(2)+" MiB"})()),E(N,y(rr,{signal:[s,l],get constants(){return o()}}),null),E(N,y(nr,{signal:[s,l]}),null),R(()=>B.classList.toggle("highlighted",!!m())),w})(),y(de,{get disabled(){return!U()},variant:"accent",onClick:O,children:"Upload"}),y(sr,{get progress(){return D()},get show(){return M()}})]}function Ke(e){return(()=>{var t=Xn();return E(t,()=>e.children),t})()}function nr(e){return y(ir,{legend:"Premium only",get children(){return[y(Ce,{small:!0,get disabled(){return!Z.premium[0]()},get value(){return e.signal[0]().denoise},onChange:t=>e.signal[1](n=>({...n,denoise:t})),get children(){return["Denoise",y(fe,{text:"Process the sound of the video to recude background noise. Rendering to file is necessary in this case."})]}}),y(Ce,{small:!0,get disabled(){return!Z.premium[0]()||e.signal[0]().denoise},get value(){return e.signal[0]().renderToFile||e.signal[0]().denoise},onChange:t=>e.signal[1](n=>({...n,renderToFile:t})),get children(){return["Render to file",y(fe,{text:"The processed video will be available for download."})]}})]}})}function rr(e){const t=()=>e.constants,n=()=>(t()?e.signal[0]().silenceCutoff.toFixed(0):"...")+"dB",r=()=>(t()?e.signal[0]().minSkipDuration:"...")+"ms";return[(()=>{var i=qe();return E(i,y(Ae,{get disabled(){return e.constants===null},lighter:!0,fillSpace:!0,get min(){var s;return((s=t())==null?void 0:s.silenceCutoff.min)??-1},get max(){var s;return((s=t())==null?void 0:s.silenceCutoff.max)??1},step:.01,get value(){return A(()=>!!t())()?e.signal[0]().silenceCutoff:0},onInput:s=>e.signal[1](l=>({...l,silenceCutoff:+s.currentTarget.value})),get children(){return[Jn()," ",A(()=>n())," "]}}),null),E(i,y(fe,{text:"The more negative this value is, the quieter the silence has to be to be removed."}),null),i})(),(()=>{var i=qe();return E(i,y(Ae,{get disabled(){return e.constants===null},lighter:!0,fillSpace:!0,get min(){var s;return((s=t())==null?void 0:s.skipDuration.min)??-1},get max(){var s;return((s=t())==null?void 0:s.skipDuration.max)??1},step:1,get value(){return A(()=>!!t())()?e.signal[0]().minSkipDuration:0},onInput:s=>e.signal[1](l=>({...l,minSkipDuration:+s.currentTarget.value})),get children(){return[Yn()," ",A(()=>r())]}}),null),E(i,y(fe,{text:`Higher values improve user experience by accounting for browser delay in skipping short periods of silence.
Rendering to a video file does not suffer from this.`}),null),i})()]}function ir(e){return(()=>{var t=Qn(),n=t.firstChild;return E(n,()=>e.legend),E(t,()=>e.children,null),t})()}function sr(e){const[t,n]=P(0);return setTimeout(()=>n(1),600),[y(Tn,{get value(){return e.progress},get class(){return e.show?"progress-bar-main-show":"progress-bar-main-hide"},get style(){return{opacity:t(),"margin-top":"1em","border-bottom-left-radius":0,"border-bottom-right-radius":0}}}),Zn()]}H(["keydown"]);const or="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-clipboard'%3e%3cpath%20d='M16%204h2a2%202%200%200%201%202%202v14a2%202%200%200%201-2%202H6a2%202%200%200%201-2-2V6a2%202%200%200%201%202-2h2'%3e%3c/path%3e%3crect%20x='8'%20y='2'%20width='8'%20height='4'%20rx='1'%20ry='1'%3e%3c/rect%3e%3c/svg%3e";var lr=T('<code class="copyable-token rounded"title="Click to copy"> <img>');function ar(e){const[t,n]=P(!1);return X(()=>{let r;return t()&&(navigator.clipboard.writeText(e.children),r=setTimeout(()=>{n(!1)},150)),()=>{clearTimeout(r)}}),(()=>{var r=lr(),i=r.firstChild,s=i.nextSibling;return r.$$mousedown=()=>{n(!0)},E(r,()=>e.children,i),j(s,"src",or),R(()=>r.classList.toggle("clicked",!!t())),r})()}H(["mousedown"]);let cr=class{constructor(t,n){Y(this,"start");Y(this,"end");Y(this,"max");Y(this,"left",null);Y(this,"right",null);this.start=t,this.end=n,this.max=n}};class ur{constructor(t){Y(this,"root",null);t&&this.insertArray(t)}insert(t,n){this.root=this.insertRec(this.root,t,n)}insertArray(t){t.forEach(([n,r])=>this.insert(n,r))}insertRec(t,n,r){return t?(n<t.start?t.left=this.insertRec(t.left,n,r):t.right=this.insertRec(t.right,n,r),t.max=Math.max(t.max,r),t):new cr(n,r)}search(t,n){return n===void 0&&(n=t),this.searchRec(this.root,t,n)}searchRec(t,n,r){return t?t.start<=r&&n<=t.end?t:t.left&&t.left.max>=n?this.searchRec(t.left,n,r):t.right?this.searchRec(t.right,n,r):null:null}}function dr(e){return(...t)=>{for(const n of e)n&&n(...t)}}function fr(...e){return dr(e)}const hr="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-volume-2'%3e%3cpolygon%20points='11%205%206%209%202%209%202%2015%206%2015%2011%2019%2011%205'%3e%3c/polygon%3e%3cpath%20d='M19.07%204.93a10%2010%200%200%201%200%2014.14M15.54%208.46a5%205%200%200%201%200%207.07'%3e%3c/path%3e%3c/svg%3e",gr="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-volume-x'%3e%3cpolygon%20points='11%205%206%209%202%209%202%2015%206%2015%2011%2019%2011%205'%3e%3c/polygon%3e%3cline%20x1='23'%20y1='9'%20x2='17'%20y2='15'%3e%3c/line%3e%3cline%20x1='17'%20y1='9'%20x2='23'%20y2='15'%3e%3c/line%3e%3c/svg%3e",Ve="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-play'%3e%3cpolygon%20points='5%203%2019%2012%205%2021%205%203'%3e%3c/polygon%3e%3c/svg%3e",We="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-pause'%3e%3crect%20x='6'%20y='4'%20width='4'%20height='16'%3e%3c/rect%3e%3crect%20x='14'%20y='4'%20width='4'%20height='16'%3e%3c/rect%3e%3c/svg%3e";var mr=T("<img>"),vr=T("<img height=24px>"),pr=T('<div class="video-player rounded"tabindex=-1><div class=video-wrapper><div class=overlay-indicator></div><video class=""></video></div><input class="seekbar rounded"type=range min=0 step=0.01><div class="video-controls rounded smaller-slider-gap-hack"><div class=left-wrapper><span> / '),yr=T("<img class=playing>"),br=T("<img class=paused>");function He(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`}function wr(e){const[t,n]=P(!1),[r,i]=P(0),[s,l]=P(.333),[o,a]=P(!1),d=()=>o()?0:s(),[c,u]=P(void 0),[v,x]=P(0),[h,m]=P(null),C=b=>{x(b.currentTarget.currentTime)},$=()=>{h()&&(c().paused?(c().play(),n(!0)):(c().pause(),n(!1)))},U=b=>{if(!h())return;const O=b.target.value;c().currentTime=+O,i(+O)},D=b=>{b.key===" "&&$(),b.key==="ArrowLeft"&&(b.preventDefault(),c().currentTime-=5),b.key==="ArrowRight"&&(b.preventDefault(),c().currentTime+=5),b.key==="ArrowUp"&&(b.preventDefault(),l(O=>Math.min(1,O+.1))),b.key==="ArrowDown"&&(b.preventDefault(),l(O=>Math.max(0,O-.1))),b.key==="m"&&a(O=>!O)};return(()=>{var b=pr(),O=b.firstChild,M=O.firstChild,w=M.nextSibling,p=O.nextSibling,f=p.nextSibling,g=f.firstChild,_=g.firstChild,J=_.firstChild;b.$$keydown=D,E(M,(()=>{var k=A(()=>!!t());return()=>k()?(()=>{var B=yr();return j(B,"src",Ve),B})():(()=>{var B=br();return j(B,"src",We),B})()})()),w.addEventListener("waiting",()=>console.log("waiting")),w.addEventListener("loadedmetadata",()=>m(c().duration)),w.addEventListener("timeupdate",C),w.$$click=$,w.addEventListener("ended",()=>n(!1)),w.addEventListener("timeupdate",k=>i(k.currentTarget.currentTime));var G=fr(e.ref,u);return typeof G=="function"&&Oe(G,w),p.$$input=U,E(g,y(de,{variant:"accent",lineHeight:0,onClick:$,get children(){var k=mr();return R(()=>j(k,"src",t()?We:Ve)),k}}),_),E(_,()=>He(v()),J),E(_,()=>He(h()),null),E(f,y(Ae,{min:0,max:1,step:.01,get value(){return d()},onInput:k=>(l(+k.currentTarget.value==0&&o()?.333:+k.currentTarget.value),a(+k.currentTarget.value==0)),onKeyDown:k=>k.stopPropagation(),get children(){return y(de,{small:!0,lineHeight:0,onClick:()=>a(k=>!k),get children(){var k=vr();return k.style.setProperty("filter","invert()"),R(()=>j(k,"src",o()?gr:hr)),k}})}}),null),R(k=>{var B=e.src,N=e.seekbarBackground,F=h();return B!==k.e&&j(w,"src",k.e=B),N!==k.t&&((k.t=N)!=null?p.style.setProperty("background-image",N):p.style.removeProperty("background-image")),F!==k.a&&j(p,"max",k.a=F),k},{e:void 0,t:void 0,a:void 0}),R(()=>p.value=r()),b})()}H(["keydown","click","input"]);var kr=T("<h4>Task ");function xr(e,t,n,r,i){let s=`linear-gradient(to right, ${i} `;for(let l=0;l<t.length;l++){const o=t[l][0]/n*100,a=t[l][1]/n*100;s+=`, ${i} ${o}%, ${r} ${o}%, ${r} ${a}%, ${i} ${a}%`}return s+=")",`url(${Vn(e)}), ${s}`}function $r(){const{id:e}=Yt();let[t]=pt(()=>e,Kn,{deferStream:!0});const n=()=>t.loading?null:t().filter(([a,d])=>d-a>.2),r=()=>{const a=n();return a?new ur(a):null},[i,s]=P(void 0),[l,o]=P(null);return yt(()=>{const a=i();a.addEventListener("loadedmetadata",()=>{o(a.duration)});let d=!1;const c=setInterval(()=>{if(!a||!r())return;const u=r().search(a.currentTime);u&&!d&&(console.log("skipped",u),a.currentTime=u.end,d=!0),u||(d=!1)},10);ne(()=>clearInterval(c))}),X(()=>{console.log("videoDuration",l(),"skipsFiltered",n())}),[(()=>{var a=kr();return a.firstChild,E(a,y(ar,{children:e}),null),a})(),y(wr,{get src(){return Wn(e)},ref:s,get seekbarBackground(){return A(()=>!!(l()&&n()))()?xr(e,n(),l(),"var(--skip-segment-color)","var(--non-skip-segment-color)"):void 0}})]}const Sr=document.getElementById("root"),Cr=()=>y(gn,{root:yn,get children(){return[y(Ne,{path:"/",component:tr}),y(Ne,{path:"/task/:id",component:$r})]}});_t(Cr,Sr);
