import{i as r,l as a,C as P,M as o,S as x,t as d,c as p,a as b}from"./index-CQiPjXso.js";import{Q as y,T as s}from"./TextField-C-lKYZ4W.js";import{D as f}from"./DropdownSelect-xhVFJVYr.js";import{u as w,d as c,r as m,P as k,q as _,t as F,v as M,w as C,M as g}from"./DocumentFlow-BPOldJNx.js";import{C as N}from"./Checkbox-DX-q6fZB.js";import{R as h}from"./RadioGroup-mQMpjHja.js";const V={"period-grid":"_period-grid_vb6os_1"};var $=d("<div>"),S=d("<div><span>%"),U=d("<div><span>₽");function A(e,t){if(e.maxPenalty===null)return null;const n=+e.maxPenalty.sum;if(isNaN(n))return null;if(e.maxPenalty.type==="percent"){const l=+t.sum;return isNaN(l)?null:l*(n/100)}else return n}function H(){const[e,t]=w(),n=(i,u)=>t("penalty","value",i,m(u)),l=(i,u)=>t("penalty","maxPenalty",i,m(u));return(()=>{var i=$();return r(i,a(y,{get children(){return a(h,{items:[{label:"Условия о начислении неустойки в договоре отсутствуют",value:"not-specified"},{label:"Стороны согласовали начисление неустойки в процентах",value:"fraction"},{label:"Стороны согласовали начисление неустойки в рублях",value:"money"},{label:"Договором предусмотрено, что начисление неустойки не допускается",value:"no-penalty"},{label:"В договоре указано на начисление неустойки по ставке ЦБ РФ",value:"central-bank"}],get value(){return e.penalty.value.type},setValue:u=>{switch(u){case"not-specified":t("penalty","value",c(new C));break;case"fraction":t("penalty","value",c(new M));break;case"money":t("penalty","value",c(new F));break;case"no-penalty":t("penalty","value",c(new _));break;case"central-bank":t("penalty","value",c(new k));break;default:throw new Error("Unknown penalty type")}},get children(){return a(P,{get children(){return[a(o,{get when(){return e.penalty.value.type==="fraction"},get children(){return a(y,{get children(){return a(D,{get value(){return e.penalty.value},setValue:n})}})}}),a(o,{get when(){return e.penalty.value.type==="money"},get children(){return a(y,{get children(){return a(E,{get value(){return e.penalty.value},setValue:n})}})}}),a(o,{get when(){return e.penalty.value.type==="no-penalty"},get children(){return a(y,{get children(){return a(R,{get value(){return e.penalty.value},setValue:n})}})}}),a(o,{get when(){return e.penalty.value.type==="central-bank"},get children(){return a(y,{get children(){return a(q,{get value(){return e.penalty.value},setValue:n})}})}})]}})}})}}),null),r(i,a(y,{question:"Предельный размер неустойки",get children(){return a(h,{items:[{label:"В договоре нет условия о предельном размере неустойки",value:"null"},{label:"Предельный размер неустойки выражен в твёрдой денежной сумме",value:"money"},{label:"Предельный размер неустойки выражен в процентном соотношении к сумме займа",value:"percent"}],get value(){var u;return((u=e.penalty.maxPenalty)==null?void 0:u.type)??"null"},setValue:u=>{switch(u){case"null":t("penalty","maxPenalty",null);break;case"money":{const v=c(new g);v.type="money",t("penalty","maxPenalty",v);break}case"percent":{const v=c(new g);v.type="percent",t("penalty","maxPenalty",v);break}default:throw new Error("Invalid maxPenalty value")}},get children(){return a(x,{get when(){return e.penalty.maxPenalty!==null},get children(){return a(B,{get value(){return e.penalty.maxPenalty},setValue:l})}})}})}}),null),i})()}function D(e){return(()=>{var t=S(),n=t.firstChild;return r(t,a(s,{label:"Размер процентной ставки",get value(){return e.value.sum},setValue:l=>e.setValue("sum",l)}),n),r(t,a(f,{items:[{text:"День",value:"day"},{text:"Неделю",value:"week"},{text:"Месяц",value:"month"},{text:"Год",value:"year"}],get value(){return e.value.periodUnit},setValue:l=>e.setValue("periodUnit",l)}),null),r(t,a(s,{label:"Пункт договора с данным условием",get value(){return e.value.clause},setValue:l=>e.setValue("clause",l)}),null),p(()=>b(t,V["period-grid"])),t})()}function E(e){return(()=>{var t=U(),n=t.firstChild;return r(t,a(s,{label:"Размер процентной ставки",get value(){return e.value.sum},setValue:l=>e.setValue("sum",l)}),n),r(t,a(f,{items:[{text:"День",value:"day"},{text:"Неделю",value:"week"},{text:"Месяц",value:"month"},{text:"Год",value:"year"}],get value(){return e.value.periodUnit},setValue:l=>e.setValue("periodUnit",l)}),null),r(t,a(s,{label:"Пункт договора с данным условием",get value(){return e.value.clause},setValue:l=>e.setValue("clause",l)}),null),p(()=>b(t,V["period-grid"])),t})()}function R(e){return a(s,{label:"Пункт договора с данным условием",get value(){return e.value.clause},setValue:t=>e.setValue("clause",t)})}function q(e){return[a(N,{label:"1/300 ставки ЦБ за каждый день просрочки",get value(){return e.value.onethreehundredth},setValue:t=>e.setValue("onethreehundredth",t)}),a(s,{label:"Пункт договора с данным условием",get value(){return e.value.clause},setValue:t=>e.setValue("clause",t)})]}function B(e){return a(y,{get children(){return[a(s,{label:"Предельный размер неустойки",get value(){return e.value.sum},setValue:t=>e.setValue("sum",t)}),a(s,{label:"Пункт договора с данным условием",get value(){return e.value.clause},setValue:t=>e.setValue("clause",t)})]}})}export{A as calculateMaxPenalty,H as default};
