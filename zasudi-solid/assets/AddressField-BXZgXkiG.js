import{d as _,i as y,l as f,c as v,a as m,p as A,S as O,t as h,h as H,b as F,x as L,v as j,G as P,o as z,H as N,I as Z,A as B,F as R}from"./index-CJwTej7D.js";import{j as u,S as W,s as q}from"./DocumentFlow-DLrAGQ6P.js";import{m as D,T as G}from"./TextField-BlZifFvP.js";const ue="/zasudi-solid/assets/fl-fuegtMfi.svg",ce="/zasudi-solid/assets/ip-Bwn4NpWE.svg",de="/zasudi-solid/assets/ul-KF9oUbE1.svg",ge="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-home'%3e%3cpath%20d='M3%209l9-7%209%207v11a2%202%200%200%201-2%202H5a2%202%200%200%201-2-2z'%3e%3c/path%3e%3cpolyline%20points='9%2022%209%2012%2015%2012%2015%2022'%3e%3c/polyline%3e%3c/svg%3e",fe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-map-pin'%3e%3cpath%20d='M21%2010c0%207-9%2013-9%2013s-9-6-9-13a9%209%200%200%201%2018%200z'%3e%3c/path%3e%3ccircle%20cx='12'%20cy='10'%20r='3'%3e%3c/circle%3e%3c/svg%3e",ve="data:image/svg+xml,%3csvg%20width='20'%20height='14'%20viewBox='0%200%2020%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200.555176V13.4452H20V0.555176H0ZM6.12336%202.63221C7.27496%202.63221%208.21184%203.56908%208.21184%204.72068C8.21184%205.87232%207.27496%206.8092%206.12336%206.8092C4.97176%206.8092%204.03484%205.87232%204.03484%204.72068C4.03484%203.56908%204.97176%202.63221%206.12336%202.63221ZM9.31106%2011.251H8.13918V9.7624C8.13918%208.99631%207.51594%208.37307%206.74984%208.37307H5.53875C4.77266%208.37307%204.14941%208.99631%204.14941%209.7624V11.251H2.97754V9.7624C2.97754%208.35014%204.12648%207.20119%205.53875%207.20119H6.74984C8.16211%207.20119%209.31106%208.35014%209.31106%209.7624V11.251ZM16.6406%2010.2562H11.5625V9.08436H16.6406V10.2562ZM16.6406%207.58611H11.5625V6.41424H16.6406V7.58611ZM16.6406%204.916H11.5625V3.74412H16.6406V4.916Z'%20fill='%231C4681'/%3e%3c/svg%3e";var J=h("<img alt=icon>"),K=h("<div><div>"),U=h("<div>"),Q=h("<div><input type=text required><div>Допустимы только кириллица и дефис");function me(e){return(()=>{var a=K(),s=a.firstChild;return y(s,f(O,{get when(){return e.icon!==!1},get fallback(){return(()=>{var n=U();return v(()=>m(n,u["text-field-input-icon"])),n})()},get children(){var n=J();return v(i=>{var l=u["text-field-input-icon"],o=e.icon??D;return l!==i.e&&m(n,i.e=l),o!==i.t&&A(n,"src",i.t=o),i},{e:void 0,t:void 0}),n}}),null),y(s,f(W,{shadow:!0,get classList(){return{[u["text-field"]]:!0,[u["text-field-name-field"]]:!0}},get children(){return[f(I,{placeholder:"Фамилия",get value(){return e.lastNameValue},get setValue(){return e.setLastNameValue},get disabled(){return!!e.disabled}}),f(I,{placeholder:"Имя",get value(){return e.firstNameValue},get setValue(){return e.setFirstNameValue},get disabled(){return!!e.disabled}}),f(I,{placeholder:"Отчество",get value(){return e.secondNameValue},get setValue(){return e.setSecondNameValue},get disabled(){return!!e.disabled}})]}}),null),v(n=>{var i=u["text-field-wrapper"],l=u["text-field-input-wrapper"];return i!==n.e&&m(a,n.e=i),l!==n.t&&m(s,n.t=l),n},{e:void 0,t:void 0}),a})()}function I(e){const[a,s]=H(!1),[n,i]=H(!0),l=150;let o;const T=()=>{clearTimeout(o),o=window.setTimeout(()=>{i(!0)},l),s(!1)};return(()=>{var V=Q(),c=V.firstChild,w=c.nextSibling;return c.addEventListener("focus",()=>q(e.placeholder)),c.$$input=t=>{t.data===" "&&X();const d=t.currentTarget.selectionStart,b=t.currentTarget.value.length;t.currentTarget.value=t.currentTarget.value.replace(/[^а-яА-ЯёЁ\-]/g,""),b!==t.currentTarget.value.length&&t.data!==" "?(t.currentTarget.selectionStart=d-1,t.currentTarget.selectionEnd=d-1,i(!1),s(!0)):T(),e.setValue(t.currentTarget.value)},c.$$focusout=T,v(t=>{var d=u["input-container"],b={"non-empty":!!e.value},$=e.placeholder,C=e.disabled,r={[u["input-warning"]]:!0,show:a()},p=n()?"none":"block";return d!==t.e&&m(V,t.e=d),t.t=F(c,b,t.t),$!==t.a&&A(c,"placeholder",t.a=$),C!==t.o&&(c.disabled=t.o=C),t.i=F(w,r,t.i),p!==t.n&&((t.n=p)!=null?w.style.setProperty("display",p):w.style.removeProperty("display")),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v(()=>c.value=e.value),V})()}function X(){const e='a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])';if(document.activeElement){const a=[...document.querySelectorAll(e)].filter(n=>n.offsetWidth>0||n.offsetHeight>0||n===document.activeElement),s=a.indexOf(document.activeElement);s>-1&&(a[s+1]||a[0]).focus()}}_(["focusout","input"]);var Y=(e,a)=>{let s;const n=()=>clearTimeout(s);return L()&&j(n),Object.assign((...l)=>{s!==void 0&&n(),s=setTimeout(()=>e(...l),a)},{clear:n})},ee=h("<div>"),te=h("<ul role=button tabindex=-1>"),ne=h("<li tabindex=0>"),ae=h("<div>...");async function se(e){return e===""?{suggestions:[]}:fetch("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token 64bda6eefd1d370b9b812b6cebce7216af81b24d"},body:JSON.stringify({query:e})}).then(a=>a.json())}function he(e){const[a,s]=H(""),[n,i]=H(null),[l,o]=H(!1);let T=Y(r=>s(r),300);v(()=>{i(null),o(!1),T(e.value)});const[V,{mutate:c}]=P(a,se,{initialValue:{suggestions:[]}}),w=()=>e.value===n()?{suggestions:[]}:V.latest,t=()=>l()?[]:w().suggestions;let d,b;const $=()=>w().suggestions.length>0,C=r=>{$()&&!d.contains(r.relatedTarget)&&o(!0)};return(()=>{var r=ee();r.$$focusout=g=>{g.currentTarget.contains(g.relatedTarget)||o(!0)},r.$$focusin=()=>{o(!1)};var p=b;return typeof p=="function"?N(p,r):b=r,y(r,f(G,z(e,{renderInside:()=>(()=>{var g=te();N(Z,g,()=>k=>{$()&&!b.contains(k)&&o(!0)});var E=d;return typeof E=="function"?N(E,g):d=g,y(g,f(B,{get fallback(){return f(ie,{})},get children(){return f(R,{get each(){return t()},children:(k,M)=>(()=>{var x=ne();return x.$$click=()=>{e.setValue(k.value),i(e.value)},x.addEventListener("focusin",S=>S.stopPropagation()),x.addEventListener("focusout",S=>{S.stopPropagation(),M()===t().length-1&&C(S)}),y(x,()=>k.value),v(()=>m(x,u["address-hint"])),x})()})}})),v(()=>m(g,u["address-field-popup"])),g})()}))),v(()=>m(r,u["address-field-wrapper"])),r})()}function ie(){return ae()}_(["focusin","focusout","click"]);export{he as A,me as N,ve as a,ue as f,ge as h,ce as i,fe as m,de as u};
