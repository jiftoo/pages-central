import{d as _,i as V,l as g,c as f,a as h,p as L,S as A,t as m,h as y,b as I,x as O,v as j,G as P,o as z,H as S,I as R,A as Z,F as B,L as W}from"./index-Wz2gLUeJ.js";import{j as o,S as q,s as D}from"./DocumentFlow-EhlzY42N.js";import{m as G,T as J}from"./TextField-7j08LMjo.js";const ue="/zasudi-solid/assets/fl-fuegtMfi.svg",de="/zasudi-solid/assets/ip-Bwn4NpWE.svg",ce="/zasudi-solid/assets/ul-KF9oUbE1.svg",ge="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-home'%3e%3cpath%20d='M3%209l9-7%209%207v11a2%202%200%200%201-2%202H5a2%202%200%200%201-2-2z'%3e%3c/path%3e%3cpolyline%20points='9%2022%209%2012%2015%2012%2015%2022'%3e%3c/polyline%3e%3c/svg%3e",fe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-map-pin'%3e%3cpath%20d='M21%2010c0%207-9%2013-9%2013s-9-6-9-13a9%209%200%200%201%2018%200z'%3e%3c/path%3e%3ccircle%20cx='12'%20cy='10'%20r='3'%3e%3c/circle%3e%3c/svg%3e",ve="data:image/svg+xml,%3csvg%20width='20'%20height='14'%20viewBox='0%200%2020%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200.555176V13.4452H20V0.555176H0ZM6.12336%202.63221C7.27496%202.63221%208.21184%203.56908%208.21184%204.72068C8.21184%205.87232%207.27496%206.8092%206.12336%206.8092C4.97176%206.8092%204.03484%205.87232%204.03484%204.72068C4.03484%203.56908%204.97176%202.63221%206.12336%202.63221ZM9.31106%2011.251H8.13918V9.7624C8.13918%208.99631%207.51594%208.37307%206.74984%208.37307H5.53875C4.77266%208.37307%204.14941%208.99631%204.14941%209.7624V11.251H2.97754V9.7624C2.97754%208.35014%204.12648%207.20119%205.53875%207.20119H6.74984C8.16211%207.20119%209.31106%208.35014%209.31106%209.7624V11.251ZM16.6406%2010.2562H11.5625V9.08436H16.6406V10.2562ZM16.6406%207.58611H11.5625V6.41424H16.6406V7.58611ZM16.6406%204.916H11.5625V3.74412H16.6406V4.916Z'%20fill='%231C4681'/%3e%3c/svg%3e";var K=m("<img alt=icon>"),U=m("<div><div>"),Q=m("<div>"),X=m("<div><input type=text required><div>Допустимы только кириллица и дефис");function he(e){return(()=>{var s=U(),i=s.firstChild;return V(i,g(A,{get when(){return e.icon!==!1},get fallback(){return(()=>{var n=Q();return f(()=>h(n,o["text-field-input-icon"])),n})()},get children(){var n=K();return f(r=>{var u=o["text-field-input-icon"],d=e.icon??G;return u!==r.e&&h(n,r.e=u),d!==r.t&&L(n,"src",r.t=d),r},{e:void 0,t:void 0}),n}}),null),V(i,g(q,{shadow:!0,get classList(){return{[o["text-field"]]:!0,[o["text-field-name-field"]]:!0}},get children(){return[g(N,{placeholder:"Фамилия",get value(){return e.lastNameValue},get setValue(){return e.setLastNameValue},get disabled(){return!!e.disabled}}),g(N,{placeholder:"Имя",get value(){return e.firstNameValue},get setValue(){return e.setFirstNameValue},get disabled(){return!!e.disabled}}),g(N,{placeholder:"Отчество",get value(){return e.secondNameValue},get setValue(){return e.setSecondNameValue},get disabled(){return!!e.disabled}})]}}),null),f(n=>{var r=o["text-field-wrapper"],u=o["text-field-input-wrapper"];return r!==n.e&&h(s,n.e=r),u!==n.t&&h(i,n.t=u),n},{e:void 0,t:void 0}),s})()}function N(e){const[s,i]=y(!1),[n,r]=y(!0),u=150;let d;const T=()=>{clearTimeout(d),d=window.setTimeout(()=>{r(!0)},u),i(!1)};return(()=>{var b=X(),c=b.firstChild,w=c.nextSibling;return c.addEventListener("focus",()=>D(e.placeholder)),c.$$input=t=>{t.data===" "&&Y();const v=t.currentTarget.selectionStart,p=t.currentTarget.value.length;t.currentTarget.value=t.currentTarget.value.replace(/[^а-яА-ЯёЁ\-]/g,""),p!==t.currentTarget.value.length&&t.data!==" "?(t.currentTarget.selectionStart=v-1,t.currentTarget.selectionEnd=v-1,r(!1),i(!0)):T(),e.setValue(t.currentTarget.value)},c.$$focusout=T,f(t=>{var v=o["input-container"],p={"non-empty":!!e.value},H=e.placeholder,l=e.disabled,C={[o["input-warning"]]:!0,show:s()},a=n()?"none":"block";return v!==t.e&&h(b,t.e=v),t.t=I(c,p,t.t),H!==t.a&&L(c,"placeholder",t.a=H),l!==t.o&&(c.disabled=t.o=l),t.i=I(w,C,t.i),a!==t.n&&((t.n=a)!=null?w.style.setProperty("display",a):w.style.removeProperty("display")),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f(()=>c.value=e.value),b})()}function Y(){const e='a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])';if(document.activeElement){const s=[...document.querySelectorAll(e)].filter(n=>n.offsetWidth>0||n.offsetHeight>0||n===document.activeElement),i=s.indexOf(document.activeElement);i>-1&&(s[i+1]||s[0]).focus()}}_(["focusout","input"]);var ee=(e,s)=>{let i;const n=()=>clearTimeout(i);return O()&&j(n),Object.assign((...u)=>{i!==void 0&&n(),i=setTimeout(()=>e(...u),s)},{clear:n})},F=m("<div>"),te=m("<ul role=button tabindex=-1>"),ne=m("<li tabindex=0>"),ae=m("<div>...");async function se(e){return e===""?{suggestions:[]}:fetch("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token 64bda6eefd1d370b9b812b6cebce7216af81b24d"},body:JSON.stringify({query:e})}).then(s=>s.json())}function me(e){const[s,i]=y(""),[n,r]=y(null),[u,d]=y(!1);let T=ee(l=>i(l),300);f(()=>{r(null),d(!1),T(e.value)});const[b]=P(s,se,{initialValue:{suggestions:[]}}),c=()=>e.value===n()?{suggestions:[]}:b.latest,w=()=>u()?[]:c().suggestions;let t,v;const p=()=>c().suggestions.length>0,H=l=>{p()&&!t.contains(l.relatedTarget)&&d(!0)};return(()=>{var l=F();l.$$focusout=a=>{a.currentTarget.contains(a.relatedTarget)||d(!0)},l.$$focusin=()=>{d(!1)};var C=v;return typeof C=="function"?S(C,l):v=l,V(l,g(J,z(e,{renderInside:()=>[(()=>{var a=te();S(R,a,()=>$=>{p()&&!v.contains($)&&d(!0)});var E=t;return typeof E=="function"?S(E,a):t=a,V(a,g(Z,{get fallback(){return g(ie,{})},get children(){return g(B,{get each(){return w()},children:($,M)=>(()=>{var x=ne();return x.$$click=()=>{e.setValue($.value),e.setResolvedValue($.data),r(e.value)},x.addEventListener("focusin",k=>k.stopPropagation()),x.addEventListener("focusout",k=>{k.stopPropagation(),M()===w().length-1&&H(k)}),V(x,()=>$.value),f(()=>h(x,o["address-hint"])),x})()})}})),f(()=>h(a,o["address-field-popup"])),a})(),g(A,{get when(){return b.state==="refreshing"},get children(){var a=F();return V(a,g(W,{width:"2em",height:"2em"})),f(()=>h(a,o["address-field-spinner"])),a}})]}))),f(()=>h(l,o["address-field-wrapper"])),l})()}function ie(){return ae()}_(["focusin","focusout","click"]);export{me as A,he as N,ve as a,ue as f,ge as h,de as i,fe as m,ce as u};
